@model List<Course>
@{
    Layout = "_AdminLayout";
    ViewData["Title"] = "Sınav Oluştur";
}
<div class="container-xxl flex-grow-1 container-p-y">
    <h4 class="fw-bold py-3 mb-4"><span class="text-muted fw-light">Sınavlar/</span> Oluştur</h4>
    <!-- Basic Layout -->
    <div class="row">
        <div class="col-xl">
            <div class="card mb-4">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <h5 class="mb-0">Sınav Bilgileri</h5>
                    @{
                        if ((ViewData["error"] ?? false).Equals(true))
                        {
                            <small class="text-muted float-end">Hata meydana geldi! Açıklama: @ViewData["message"]</small>
                        }
                        else
                        {
                            <small class="text-muted float-end">Verileri belirtilen yönergeler doğrultusunda giriniz.</small>
                        }
                    }
                </div>
                <div class="card-body">
                    <form method="post" asp-action="Create" enctype="multipart/form-data">
                        <div class="mb-3">
                            <label class="form-label" for="ExamName">Sınav Adı</label>
                            <input type="text" class="form-control" id="ExamName" name="ExamName" placeholder="Deneme-1" />
                        </div>
                        <div class="mb-3">
                            <label for="CourseId" class="form-label">Kurs</label>
                            <select class="form-select" id="CourseId" name="CourseId" aria-label="Bir kurs seçiniz">
                                @{
                                    foreach (var course in Model)
                                    {
                                        if (!course.id.Equals(1))
                                        {
                                            <option value="@course.id">@course.displayname</option>
                                        }
                                    }
                                }
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="TimeLimit" class="form-label">Zaman Sınırı (Dakika)</label>
                            <input class="form-control" type="number" value="0" id="TimeLimit" name="TimeLimit" />
                        </div>
                        <div class="mb-3">
                            <label for="FirstAccessTime" class="form-label">Erişime Açılma Zamanı</label>
                            <input class="form-control" type="datetime-local" value="@DateTime.Now.ToString("yyyy-MM-ddTHH:mm:ss")" id="FirstAccessTime" name="FirstAccessTime" />
                        </div>
                        <div class="mb-3">
                            <label for="LastAccessTime" class="form-label">Erişime Kapanma Zamanı</label>
                            <input class="form-control" type="datetime-local" value="@(DateTime.Now.AddDays(7).ToString("yyyy-MM-ddTHH:mm:ss"))" id="LastAccessTime" name="LastAccessTime" />
                        </div>
                        <div class="mb-3">
                            <label class="form-label" for="Answers">Cevaplar</label>
                            <textarea id="Answers" name="Answers" class="form-control" rows="5" placeholder="1.A-2.B-3.C-4.D-5.E..."></textarea>
                            <div id="defaultFormControlHelp" class="form-text">
                                Cevap anahtarını örnekte gösterildiği gibi önce soru numarası sonra . (nokta) ve cevap seçeneği olacak şekilde giriniz.
                                Bir önceki cevap ve bir sonraki soru numarası arasında da - (tire) işareti bulunmalıdır. Bu kurala uygun girilmezse sınav oluşturulmayacaktır.
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="ExamPdf" class="form-label">Sınav PDF Dosyası</label>
                            <input class="form-control" type="file" id="ExamPdf" name="ExamPdf" accept=".pdf" />
                        </div>
                        <div class="mb-3">
                            <label for="AnswerPdf" class="form-label">Cevap PDF Dosyası</label>
                            <input class="form-control" type="file" id="AnswerPdf" name="AnswerPdf" accept=".pdf" />
                        </div>
                        <button type="submit" class="btn btn-primary">Gönder</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>